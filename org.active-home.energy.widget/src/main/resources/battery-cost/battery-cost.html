<!--
  #%L
  Active Home :: Energy :: Widget Energy
  $Id:$
  $HeadURL:$
  %%
  Copyright (C) 2016 Active Home Project
  %%
  This program is free software: you can redistribute it and/or modify
  it under the terms of the GNU General Public License as
  published by the Free Software Foundation, either version 3 of the 
  License, or (at your option) any later version.
  
  This program is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  GNU General Public License for more details.
  
  You should have received a copy of the GNU General Public 
  License along with this program.  If not, see
  <http://www.gnu.org/licenses/gpl-3.0.html>.
  #L%
  -->
<polymer-element name="battery-cost" extends="my-widget">

    <template>
        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
             style="width:100%;height:100%" id="battery" version="1.1" viewBox="0 0 100 200">
            <defs id="defs4556">
                <linearGradient
                        xlink:href="#linearGradient4280"
                        id="linearGradient4128"
                        gradientUnits="userSpaceOnUse"
                        gradientTransform="matrix(0.3991981,0,0,0.56258818,-22.14091,805.40143)"
                        x1="56.142857"
                        y1="178.79076"
                        x2="305.28571"
                        y2="178.79076" />
                <linearGradient id="linearGradient4280">
                    <stop
                            style="stop-color:#000000;stop-opacity:1;"
                            offset="0"
                            id="stop4282" />
                    <stop
                            id="stop4284"
                            offset="0.5"
                            style="stop-color:#ffffff;stop-opacity:0;" />
                    <stop
                            id="stop4286"
                            offset="1"
                            style="stop-color:#000000;stop-opacity:1;" />
                </linearGradient>
                <linearGradient
                        xlink:href="#linearGradient4272"
                        id="linearGradient4126"
                        gradientUnits="userSpaceOnUse"
                        gradientTransform="matrix(0.3991981,0,0,0.3839758,-22.14091,891.81365)"
                        x1="56.142857"
                        y1="178.79076"
                        x2="305.28571"
                        y2="178.79076" />
                <linearGradient
                        id="linearGradient4272">
                    <stop
                            id="stop4274"
                            offset="0"
                            style="stop-color:#000000;stop-opacity:1;" />
                    <stop
                            style="stop-color:#3bd320;stop-opacity:1;"
                            offset="0.5"
                            id="stop4276" />
                    <stop
                            style="stop-color:#000000;stop-opacity:1;"
                            offset="1"
                            id="stop4278" />
                </linearGradient>
                <linearGradient
                        xlink:href="#linearGradient4555"
                        id="linearGradient4124"
                        gradientUnits="userSpaceOnUse"
                        gradientTransform="matrix(0.3991981,0,0,0.44316611,-22.14091,933.67143)"
                        x1="56.142857"
                        y1="178.79076"
                        x2="305.28571"
                        y2="178.79076" />
                <linearGradient
                        id="linearGradient4555">
                    <stop
                            style="stop-color:#000000;stop-opacity:1;"
                            offset="0"
                            id="stop4557" />
                    <stop
                            id="stop4559"
                            offset="0.5"
                            style="stop-color:#d32030;stop-opacity:1;" />
                    <stop
                            id="stop4561"
                            offset="1"
                            style="stop-color:#000000;stop-opacity:1;" />
                </linearGradient>
                <linearGradient
                        xlink:href="#linearGradient3815"
                        id="linearGradient4122"
                        gradientUnits="userSpaceOnUse"
                        gradientTransform="matrix(0.1222977,0,0,0.08114916,29.723891,845.51384)"
                        x1="56.142857"
                        y1="178.79076"
                        x2="305.28571"
                        y2="178.79076" />
                <linearGradient
                        id="linearGradient3815">
                    <stop
                            style="stop-color:#666666;stop-opacity:1;"
                            offset="0"
                            id="stop3817" />
                    <stop
                            id="stop3819"
                            offset="0.5"
                            style="stop-color:#ffffff;stop-opacity:1;" />
                    <stop
                            id="stop3821"
                            offset="1"
                            style="stop-color:#666666;stop-opacity:1;" />
                </linearGradient>
                <linearGradient
                        xlink:href="#linearGradient4280"
                        id="linearGradient4120"
                        gradientUnits="userSpaceOnUse"
                        gradientTransform="matrix(0.33697445,0,0,0.04363228,42.229197,664.30249)"
                        x1="56.142857"
                        y1="178.79076"
                        x2="305.28571"
                        y2="178.79076" />
                <linearGradient
                        id="linearGradient4539">
                    <stop
                            style="stop-color:#000000;stop-opacity:1;"
                            offset="0"
                            id="stop4541" />
                    <stop
                            id="stop4543"
                            offset="0.5"
                            style="stop-color:#ffffff;stop-opacity:0;" />
                    <stop
                            id="stop4545"
                            offset="1"
                            style="stop-color:#000000;stop-opacity:1;" />
                </linearGradient>
                <linearGradient
                        y2="178.79076"
                        x2="305.28571"
                        y1="178.79076"
                        x1="56.142857"
                        gradientTransform="matrix(0.3991981,0,0,0.08114916,-22.14091,849.18042)"
                        gradientUnits="userSpaceOnUse"
                        id="linearGradient4552"
                        xlink:href="#linearGradient4280" />
            </defs>
            <g id="layer1">
                <rect
                        style="fill:url(#linearGradient4552);fill-opacity:1;stroke:#000000;stroke-width:1.06193256;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0"
                        id="rect4110"
                        width="98.658966"
                        height="14.259065"
                        x="0.67045707"
                        y="4"
                        rx="69.483253"
                        ry="7.8640084" />
                <rect
                        style="fill:url(#linearGradient4122);fill-opacity:1;stroke:#000000;stroke-width:1.06193233;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0"
                        id="rect4112"
                        width="30.224997"
                        height="14.259067"
                        x="36.712326"
                        y="0"
                        rx="69.483261"
                        ry="4.4689946" />
                <rect
                        style="fill:url(#linearGradient4124);fill-opacity:1;stroke:#000000;stroke-width:1.04298246;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0"
                        id="rect4114"
                        width="98.658966"
                        height="77.870621"
                        x="0.67045707"
                        y="121.97009"
                        rx="69.483253"
                        ry="7.5858459" />
                <rect
                        ry="12.538687"
                        rx="69.483253"
                        y="74.72955"
                        x="0.67045707"
                        height="67.470024"
                        width="98.658966"
                        id="rect4116"
                        style="fill:url(#linearGradient4126);fill-opacity:1;stroke:#000000;stroke-width:1.34091413;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0" />
                <rect
                        ry="5.7673645"
                        rx="69.483253"
                        y="4.55957"
                        x="0.67045707"
                        height="98.854774"
                        width="98.658966"
                        id="rect4118"
                        style="fill:url(#linearGradient4128);fill-opacity:1;stroke:#000000;stroke-width:0.90941805;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none;stroke-dashoffset:0"/>
            </g>
        </svg>
    </template>

    <script>
        Polymer('battery-cost', {
            ready: function() {

            },

            init: function(attributes, data) {

            },

            resize_start: function (e, ui, widget, grid) {
                var newHeight = ui.size.height;
                var newWidth = ui.size.width;
                this.shadowRoot.querySelector("#layer1").style.height = newHeight;
            },

            resize_stop: function (e, ui, widget, grid) {
                var newHeight = ui.size.height;
                var newWidth = ui.size.width;
                if (newHeight<newWidth) {
                    this.shadowRoot.querySelector("#layer1").setAttribute("transform", "rotate(90 0 0)");
                    this.shadowRoot.querySelector("#battery").setAttribute("viewBox", "-200 0 200 100");
                } else {
                    this.shadowRoot.querySelector("#layer1").setAttribute("transform", "");
                    this.shadowRoot.querySelector("#battery").setAttribute("viewBox", "0 0 100 200");
                }
            },

            drag_start: function (e, ui, widget, grid) {
                console.log(ui.position.left);
            },

            drag_stop: function (e, ui, widget, grid) {
                console.log(ui.position.left);
            }
        });
    </script>
</polymer-element>
